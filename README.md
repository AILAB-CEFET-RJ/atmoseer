# AtmoSeer

AtmoSeer is a set of Python scripts for downloading, processing, and analyzing atmospheric and meteorological data from sources such as NASA GPM and GOES-16. It supports environment setup via Conda and requires authentication for NASA Earthdata access. This project also provides a pipeline to build rainfall forecast models. The pipeline can be configured with different meteorological data sources.

---

## 🔧 Installation

### 1. Clone the Repository

```bash
git clone https://github.com/your-org/atmoseer.git
cd atmoseer
````

### 2. Set NASA Earthdata Credentials

Before running the setup script, you must set your NASA Earthdata credentials as environment variables:

```bash
export EARTHDATA_USER="your_username"
export EARTHDATA_PASS="your_password"
```

> You can register for a free NASA Earthdata account at [https://urs.earthdata.nasa.gov](https://urs.earthdata.nasa.gov).

### 3. Run the Setup Script

The `setup.sh` script will:

* Remove any existing Conda environment named `atmoseer`
* Create a new Conda environment using `config/environment.yml`
* Create necessary data directories
* Configure `.netrc` and `.urs_cookies` in your home directory for Earthdata access

```bash
./setup.sh
```

---

## 🚀 Usage

After the environment is set up, activate it:

```bash
conda activate atmoseer
```

Run one of the data downloaders or processing scripts, for example:

```bash
python src/gpm_download_crop.py -y 2022 -u your_username -r
```

> Each script may have its own arguments and configuration. Refer to inline comments or add `--help` if implemented.

---

## 📁 Directory Structure

```
atmoseer/
├── config/                 # Conda environment and config files
│   └── environment.yml
├── data/                  # Automatically created data directories
│   ├── datasets/
│   ├── era5/
│   ├── goes16/
    ├── gpm/
│   ├── sounding/
│   ├── surface_stations/
│   └── 
├── src/                   # Scripts for downloading and processing data, and for model training
│   ├── era5/
│   ├── goes16/
    ├── gpm/
│   ├── sounding/
│   ├── surface_stations/
    └── ...
├── setup.sh               # Installation script
└── README.md              # This file
```

---

## 🛠 Requirements

* [Miniconda](https://docs.conda.io/en/latest/miniconda.html) or [Anaconda](https://www.anaconda.com/)
* Linux or WSL (recommended)
* Internet access for installing packages and accessing NASA endpoints

---

## 🧾 License

This project is licensed under the MIT License. See `LICENSE` for details.

---

## 👥 Acknowledgments

* NASA GES DISC — [https://disc.gsfc.nasa.gov](https://disc.gsfc.nasa.gov)
* Earthdata Login Services — [https://urs.earthdata.nasa.gov](https://urs.earthdata.nasa.gov)


## Main Project Scripts

➡️ GOES-16 Feature Extraction scripts are located in `src/goes16/`.
For details, see [src/goes16/README.md](src/goes16/README.md).

The project pipeline is defined as a sequence of three steps: (1) data retrieving, (2) data pre-processing and (3) model training. These steps are implemented as Python scripts in the `./src` directory.

#### Weather Station Data Retrieval

All datasets retrieved and/or generated by the scripts will be stored in the `./data` folder.

- **_retrieve_ws_cor.py_**: This script retrieves observation from a user-provided weather station.
- **_retrieve_ws_inmet.py_**: This script retrieves observations for from a user-provided weather station.
- **_retrieve_as.py_**: this script retrieves atmospheric sounding data. 
- **era5/_retrieve_ERA5.py_**: this script retrieves numerical simulation data from the ERA5 portal. 
- **goes/_retrieve_ERA5.py_**: 

##### Script **_gen_sounding_indices.py_** 

This script will generate atmospheric instability indices for the data retrieveed by the script **_retrieve_as.py_**. Data from the SBGL sounding (located at the Galeão Airport, Rio de Janeiro - Brazil) will be used to calculate atmospheric instability indices, generating a new dataset. This new dataset contains one entry per sounding probe. SBGL sounding station produces two probes per day (at 00:00h and 12:00h UTC). Each entry in the produced contains the values of the computed instability indices for one probe. The following instability indices are computed:

- CAPE
- CIN
- Lift
- k
- Total totals
- Show alter

#### Preprocessing

The preprocessing scripts are responsible for performing several operations on the original dataset, such as creating variables or aggregating data, which can be interesting for model training and its final result. 

#### Dataset building

These scripts will build the train, validation and test dataset from the times series produced in the previous steps. These are the datasets to be given as input to the model training step.

#### Model training and evaluation

The model generation script is responsible for performing the training and exporting the results obtained by the model after testing. 
# r2t

## Notebooks

There are several Jupyter Notebooks in the notebooks directory. They were used for initial experiments and explorarory data analisys. These notebooks are not guaranteed to run 100% correctly due to the subsequent code refactor.